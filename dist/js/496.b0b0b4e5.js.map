{"version":3,"file":"js/496.b0b0b4e5.js","mappings":"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","sources":["webpack://app-show/./src/views/Product.vue","webpack://app-show/./src/views/Product.vue?0099"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h2 class=\"text-center mb-4\">เพิ่มข้อมูลสินค้า</h2>\r\n    <button @click=\"showAddForm\" class=\"btn-submit mb-4\">Add Product</button>\r\n    <table class=\"table table-bordered\">\r\n      <thead>\r\n        <tr>\r\n          <th>ID</th>\r\n          <th>Name</th>\r\n          <th>Price</th>\r\n          <th>Details</th>\r\n          <th>Image</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"product in products\" :key=\"product.id\">\r\n          <td>{{ product.id }}</td>\r\n          <td>{{ product.name }}</td>\r\n          <td>{{ product.price }}</td>\r\n          <td>{{ product.details }}</td>\r\n          <td>\r\n            <img :src=\"'http://localhost:226/app-show/php-vue/product_crud/' + product.image\" width=\"100\" />\r\n          </td>\r\n          <td>\r\n            <button @click=\"editProduct(product)\" class=\"btn btn-warning btn-sm\">Edit</button>\r\n            <button @click=\"confirmDelete(product.id)\" class=\"btn btn-danger btn-sm\">Delete</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <!-- Popup สำหรับเพิ่ม/แก้ไขสินค้า -->\r\n    <div v-if=\"editing || adding\" class=\"popup-overlay\">\r\n      <div class=\"popup\">\r\n        <h3 class=\"mb-4\">{{ adding ? 'Add Product' : 'Edit Product' }}</h3>\r\n        <form @submit.prevent=\"saveProduct\">\r\n          <input type=\"text\" v-model=\"editProductData.name\" placeholder=\"Product Name\" required class=\"input-style mb-3\" />\r\n          <input type=\"number\" v-model=\"editProductData.price\" placeholder=\"Price\" required class=\"input-style mb-3\" />\r\n          <textarea v-model=\"editProductData.details\" placeholder=\"Product Details\" required class=\"input-style mb-3\"></textarea>\r\n          <input type=\"file\" @change=\"handleFileChange\" ref=\"fileInput\" :required=\"adding\" class=\"input-style mb-3\" />\r\n          \r\n          <div v-if=\"editProductData.imagePreview\" class=\"mb-3\">\r\n            <img :src=\"editProductData.imagePreview\" width=\"100\" class=\"img-thumbnail\" />\r\n          </div>\r\n\r\n          <button type=\"submit\" class=\"btn-submit w-100 mb-2\">{{ adding ? 'Add' : 'Update' }}</button>\r\n          <button type=\"button\" @click=\"cancelEdit\" class=\"btn btn-secondary w-100\">Cancel</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      editing: false,\r\n      adding: false,\r\n      editProductData: { id: null, name: \"\", price: \"\", details: \"\", image: \"\", imagePreview: \"\" },\r\n      selectedFile: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchProducts();\r\n  },\r\n  methods: {\r\n    async fetchProducts() {\r\n      try {\r\n        const res = await axios.get(\"http://localhost:226/app-show/php-vue/product_crud/get_products.php\");\r\n        this.products = res.data;\r\n      } catch (error) {\r\n        alert(\"Error fetching products\");\r\n      }\r\n    },\r\n    showAddForm() {\r\n      this.adding = true;\r\n      this.resetForm();\r\n    },\r\n    editProduct(product) {\r\n      this.editProductData = { ...product, imagePreview: product.image ? 'http://localhost:226/app-show/php-vue/product_crud/' + product.image : null };\r\n      this.editing = true;\r\n    },\r\n    handleFileChange(event) {\r\n      this.selectedFile = event.target.files[0];\r\n    },\r\n    async saveProduct() {\r\n      const formData = new FormData();\r\n      formData.append(\"action\", this.adding ? \"create\" : \"update\");\r\n      formData.append(\"id\", this.editProductData.id);\r\n      formData.append(\"name\", this.editProductData.name);\r\n      formData.append(\"price\", this.editProductData.price);\r\n      formData.append(\"details\", this.editProductData.details);\r\n\r\n      if (this.selectedFile) {\r\n        formData.append(\"image\", this.selectedFile);\r\n      }\r\n\r\n      try {\r\n        await axios.post(\"http://localhost:226/app-show/php-vue/product_crud/upload.php\", formData);\r\n        this.fetchProducts();\r\n        alert(this.adding ? \"Product added successfully!\" : \"Product updated successfully!\");\r\n        this.cancelEdit();\r\n      } catch (error) {\r\n        alert(\"Error saving product\");\r\n      }\r\n    },\r\n    confirmDelete(id) {\r\n      if (window.confirm(\"Are you sure you want to delete this product?\")) {\r\n        this.deleteProduct(id);\r\n      }\r\n    },\r\n    async deleteProduct(id) {\r\n      try {\r\n        await axios.post(\"http://localhost:226/app-show/php-vue/product_crud/upload.php\", new URLSearchParams({ action: \"delete\", id }));\r\n        this.fetchProducts();\r\n        alert(\"Product deleted successfully!\");\r\n      } catch (error) {\r\n        alert(\"Error deleting product\");\r\n      }\r\n    },\r\n    cancelEdit() {\r\n      this.editing = false;\r\n      this.adding = false;\r\n      this.resetForm();\r\n    },\r\n    resetForm() {\r\n      this.editProductData = { id: null, name: \"\", price: \"\", details: \"\", image: \"\", imagePreview: \"\" };\r\n      this.selectedFile = null;\r\n      if (this.$refs.fileInput) {\r\n        this.$refs.fileInput.value = \"\";\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nbody {\r\n  font-family: 'Poppins', sans-serif;\r\n  background-color: #f4f4f9;\r\n  color: #6a0dad;\r\n}\r\n.container {\r\n  max-width: 1000px;\r\n  margin: auto;\r\n  background: rgba(255, 255, 255, 0.3);\r\n  padding: 40px;\r\n  border-radius: 15px;\r\n  box-shadow: 0 0 20px rgba(106, 13, 173, 0.6);\r\n  backdrop-filter: blur(10px);\r\n  animation: fadeIn 1s ease-in-out;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-bottom: 30px;\r\n}\r\n\r\nth, td {\r\n  padding: 10px;\r\n  text-align: left;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\nth {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\nbutton {\r\n  padding: 8px 12px;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n  opacity: 0.8;\r\n}\r\n\r\n/* Popup Styles */\r\n.popup-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.popup {\r\n  background-color: white;\r\n  padding: 20px;\r\n  width: 400px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.input-style {\r\n  flex: 1;\r\n  font-size: 16px;\r\n  padding: 12px;\r\n  border: none;\r\n  border-radius: 10px;\r\n  background: transparent;\r\n  color: #6a0dad;\r\n  outline: none;\r\n}\r\n\r\n.input-style::placeholder {\r\n  color: rgba(106, 13, 173, 0.6);\r\n}\r\n\r\nbutton[type=\"submit\"] {\r\n  background: linear-gradient(45deg, #ffb400, #ff8800);\r\n  color: white;\r\n  font-size: 18px;\r\n  padding: 12px;\r\n  border: none;\r\n  border-radius: 10px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 0 15px rgba(255, 176, 0, 0.6);\r\n  font-weight: bold;\r\n}\r\n\r\nbutton[type=\"submit\"]:hover {\r\n  background: linear-gradient(45deg, #ff8800, #ff6500);\r\n  transform: translateY(-3px);\r\n  box-shadow: 0 0 20px rgba(255, 136, 0, 0.8);\r\n}\r\n\r\nbutton[type=\"button\"] {\r\n  background-color: #6c757d;\r\n  color: white;\r\n  border: none;\r\n}\r\n\r\nbutton[type=\"button\"]:hover {\r\n  background-color: #5a6268;\r\n}\r\n\r\nimg {\r\n  max-width: 100%;\r\n  max-height: 100px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.img-thumbnail {\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n/* Fade In animation */\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Product.vue?vue&type=template&id=4c24e14a&scoped=true\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\n\nimport \"./Product.vue?vue&type=style&index=0&id=4c24e14a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4c24e14a\"]])\n\nexport default __exports__"],"names":["class","key","type","_createElementBlock","_hoisted_1","_createElementVNode","onClick","_cache","args","$options","showAddForm","_hoisted_2","_Fragment","_renderList","$data","products","product","id","_toDisplayString","name","price","details","src","image","width","_hoisted_3","$event","editProduct","_hoisted_4","confirmDelete","_hoisted_5","editing","adding","_hoisted_6","_hoisted_7","_hoisted_8","onSubmit","_withModifiers","saveProduct","editProductData","placeholder","required","onChange","handleFileChange","ref","_hoisted_9","imagePreview","_hoisted_10","_hoisted_11","_createCommentVNode","_hoisted_12","cancelEdit","data","selectedFile","mounted","this","fetchProducts","methods","res","axios","get","error","alert","resetForm","event","target","files","formData","FormData","append","post","window","confirm","deleteProduct","URLSearchParams","action","$refs","fileInput","value","__exports__","render"],"sourceRoot":""}